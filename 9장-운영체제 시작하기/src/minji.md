# 운영체제를 알아야 하는 이유

## 운영체제란

운영체제란 프로그램에 필요한 자원을 할당하고 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램을 의미함

- 항상 컴퓨터가 부팅될 때 메모리 내 **커널 영역**에 적재되어 실행됨
- 응용 프로그램: 사용자가 특정 목적을 위해 사용하는 일반 프로그램
- 운영체제는 응용 프로그램을 사용자 영역에 적재함
- 운영체제는 응용 프로그램과 하드웨어 사이에서 응용 프로그램에 필요한 자원을 할당하고, 응용 프로그램이 올바르게 실행되도록 관리하는 역할을 함

<br/><br/>

## 운영체제를 알아야 하는 이유

- 운영체제가 하드웨어를 조작하고 관리하는 기능들을 제공하므로 개발자는 하드웨어를 조작하는 코드를 직접 작성할 필요가 없음
- 하지만 운영체제는 하드웨어의 상태, 코드 실행 결과, 문제 상황등을 상세히 알려줄 수 있으므로 개발자는 이를 문제해결의 실마리로 삼을 수 있기에 운영체제를 깊이 이해하는 것이 필요함

<br/><br/><br/><br/>

# 운영체제의 큰 그림

## 커널

- 자원에 접근하고 조작하는 기능, 프로그램에 올바르고 안전하게 실행되게 하는 기능 등의 운영체제의 핵심서비스를 담당함
- 인터페이스는 운영체제가 제공하는 기능이지만 컴퓨터와 상호작용하기위한 통로일 뿐 커널에 속한 기능은 아님
  - 그래픽 유저 인터페이스(GUI, Graphiccal User Interface): 그래픽을 기반으로 컴퓨터와 상호작용
  - 커맨드 라인 인터페이스(CLI, Command Line Interface): 명령어를 기반으로 컴퓨터와 상호작용

<br/><br/>

## 이중 모드와 시스템 호출

- 운영 체제는 응용 프로그램들이 자원에 접근하려고 할 때 자신을 통해서만 접근할 수 있도록 자원을 보호함
- 이중 모드: CPU 가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식
- 사용자 모드
  - 운영체제 서비스를 제공받을 수 없는 실행 모드
  - 일반적인 응용 프로그램은 기본적으로 사용자 모드로 실행됨
  - 하드웨어 자원에 접근하는 명령어 실행 불가능
- 커널 모드
  - 운영체제 서비스를 제공받을 수 있는 실행 모드
  - 커널 영역의 코드 실행 가능
  - 자원에 접근하는 명령어를 비롯한 모든 명령어 실행 가능
- CPU 의 모드는 플래그 레지스터 속 슈퍼바이저 플래그를 보면 알 수 있음
- 시스템 호출(시스템 콜)
  - 프로그램이 운영체제 서비스를 제공받기 위해 운영체제에 보내는 요청
  - 이를 통해 커널 모드로 전환하여 서비스를 제공받을 수 있음
  - 소프트웨어 인터럽트임

<br/><br/>

## 운영체제의 핵심 서비스

### 프로세스 관리

- 프로세스: 실행 중인 프로그램
- CPU는 일반적으로 한 번에 하나의 프로세스만 실행할 수 있음 -> 프로세스들을 조금씩 번갈아가며 실행함
- 운영체제는 다양한 상태에 놓인, 다양한 자원을 사용하는 프로세스들을 일목요연하게 관리하고 실행할 수 있어야 함

### 자원 접근 및 할당

#### CPU

- 일반적으로 하나의 CPU 는 하나의 프로세스만 실행 가능 -> 한 프로세스가 CPU 이용 중이면 다른 프로세스는 대기
- CPU 스케줄링: 공정하게 CPU를 할당하기 위해 프로세스의 우선 순위와 CPU 이용 시간을 결정할 수 있어야 하는데, 그 방법들을 의미함

#### 메모리

- 새로운 프로세스가 적재될 때마다 어느 주소에 적재해야 할지를 결정해야 함

#### 입출력장치

- 인터럽트 서비스 루틴은 운영체제가 제공하는 기능으로 커널 영역에 있음
- 하드웨어 인터럽트가 발생하면 CPU가 하던일을 백업하고 커널 영역에 있는 인터럽트 서비스 루틴을 실행함

### 파일 시스템 관리

- 컴퓨터 사용 시 여러개의 파일을 열고, 생성하고, 삭제하며 이런 파일들을 묶어 디렉터리(폴더)로 관리함

<br/><br/>

## 가상 머신과 이중 모드의 발전

- 가상 머신: 소프트웨어적으로 만들어낸 가상 컴퓨터. 새로운 운영체제와 응용 프로그램 설치 및 실행이 가능함
- 가상 머신 또한 프로그램이므로 사용자 모드로 작동하게 되는데 가상화를 지원하는 CPU는 가상 머신이 운영체제 서비스를 받게 하기 위해 하이퍼바이저 모드를 따로 둠
