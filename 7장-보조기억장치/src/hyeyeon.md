# 다양한 보조기억장치

## 하드 디스크 (자기 디스크)

- 자기적인 방식으로 데이터를 저장하는 보조기억장치
- 구성 장치
  - 플래터: 동그란 원판 모양, 자기 물질로 덮여 있어 수많은 N극과 S극을 저장
  - 스핀들: 플래터를 회전시키는 구성 요소
    - 스핀들이 플래터를 돌린느 속도는 분당 회전수를 RPM이라고 함
  - 헤드: 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소
    - 플래터 위에서 미세하게 떠 있는 채로 데이터를 읽고 쓰는, 마치 바늘같이 생긴 부품
  - 헤드는 원하는 위치로 헤드를 이동시키는 디스크 암이 부착되어 있음
- 하드 디스크는 많은 양의 데이터를 저장해야 하므로 여러 겹의 플래터로 이루어져 있다

### 플레터에 데이터가 저장되는 방법

- 플래터는 트랙과 섹터 단위로 데이터를 저장함
- 트랙 : 플래터를 여러 동심원으로 나누었을 때 그 중 하나의 원
- 섹터 : 트랙은 여러 조각으로 나누어지는 데, 이 한 조각을 섹터라고 함 (하드 디스크의 가장 작은 전송 단위)
- 실린더 : 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위를 실린더라고 부른다
  - 연속된 정보는 보통 한 실린더에 기록된다 (디스크 암을 움직이지 않고 바로 데이터에 접근할 수 있기에)

### 저장된 데이터에 접근 하는 과정

- 하드 디스크가 저장된 데이터에 접근하는 시간은 크게 탐색시간, 회전 지연, 전송시간으로 나뉨
  - 탐색 시간 : 접근하려는 데이터가 저장된 트랙까지 해드를 이동시키느 시간
  - 회전 지연 : 헤드가 있는 곳으로 플래터를 회전시키는 시간
  - 전송 시간 : 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간을 의미
- 하드 디스크에서 다량의 데이터를 탐색하고 읽어 들이는 시간은 생각봐 어마함
  - 탐색 시간과 회전 지연을 단축시키기 위해서는 플래터를 빨리 돌리는 것도 중요하지만 참조 지역성, 즉 접근하려는 데이터가 플래터 혹은 레드를 조금만 옮겨도 접근할 수 있는 곳에 위치해 있는 것도 중요함

## 플래시 메모리

ex) USB, SD 카드, SSD </br>

- 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치
- 셀: 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
  - 1쉘에 몇 비트를 저장할 수 있느냐에 따라 플래시 메모리 종류가 나뉨
  - SLC : 한 셀에 1비트 저장
  - MLC : 한 셀에 2비트 저장
  - TLC : 한 셀에 3비트 저장
  - 이는 플래시 메모리의 수명, 속도, 가격에 큰 영향을 끼친다

### SLC

- MLC, TLC 타입에 비해 비트의 빠른 입출력이 가능 또한 수명도 더 길다
- BUT, 용량 대비 가격이 높다

### MLC

SLC보다 대용량화하기 유리함

### 단위

셀 -> 페이지 -> 블록 -> 플레인 -> 다이

- 플래시 메모리에서 읽기와 쓰기는 페이지 단위로 이루어진다
- 하지만 삭제는 페이지보다 큰 블록 단위로 이루어진다, 읽기 쓰기 단위와 삭제 단위가 다르다는 것이 플래시 메모리의 큰 특징 중 하나
- 페이지는 세 개의 상태를 가질 수 있다.
  - Free: 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
  - Vaild: 이미 유효한 데이터를 저장하고 있는 상태
  - Invaild: 쓰레기 값이라 부리는 유효하지 않은 데이터를 저장하고 있는 상태
    - 하드디스크와 달리 플래시 메모리는 덮어쓰기가 불가능하다
    - 최근 플래시 메모리는 이런 쓰레기 값을 정리하기 위해 가비지 컬렉션 기능을 제공한다
      - 유효한 값을 새로운 블록으로 옮기고, 기존 블록을 삭제함

# RAID의 정의와 종류

## 정의

민감한 정보도 포함된 데이터의 양이 많을 때, 해당 데이터를 안전하게 관리할 것이냐
이때 사용할 수 있는 방법 중 하나가 RAID, RAID는 주로 하드 디스크와 SSD를 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 하나의 논리적 보조기억장치처럼 사용한느 기술을 의미

## 종류

RAID 구성 방법을 RAID 레벨이라 표현

### RAID 0

- 여러 개의 보조기억 장치에 데이터를 단순히 나누어 저장하는 구성 방식
- 이때 마치 줄무늬처럼 분산되어 저장된 데이터를 스트라입이라고 한다
- 분산하여 저장하는 걸 트라이핑이라고 함
- 데이터가 분산되어 저장되면(스트라이핑), 저장된 데이터를 읽고 쓰는 속도가 빨라짐
  - 하나의 대용량 저장 장치를 이용햇으며 여러번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있기 때문

#### 단점

저장된 정보가 안전하지 않음, RAID 0으로 구성된 하드디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는 데 문제가 생길 수 있기 때문

### RAID 1

- 복사본을 만드는 방식, 마치 거울처럼 완전한 복사본을 만드는 구성이기에 미러링이라고 함
- 어떠한 데이터를 쓸 때에는 원본과 복사본 두 군에 쓴다. 그렇기에 쓰기 속도는 RAID 0보다 느림
- 장점 : 복구가 간단
- 단점 : 하드 디스크의 개수가 한정되었을 때 사용 가능한 용량이 적어짐

### RAID 4

RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장하는 장치를 두는 구성 방식

- 오류를 검출하고 복구하기 위한 정보를 패리티 비트라고 한다
- RAID 4에서는 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구함

### RAID 5

어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 패리티를 저장하는 장치에 병목 현상이 발생한다는 문제가 잇음
패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소 함

### RAID 6

서로 다른 두 개의 패리티를 두는 방식
오류를 검출하고 복구할 수 있는 수간이 두 개가 생긴 것 -> 4, 5보다 안전한 구성
새로운 정보를 저장할 때마다 함께 저장할 패리티가 두개이므로, 쓰기 속도는 RAID5보다 느림,RAID 6은 데이터 저장속도를 조금 희생하더라도 데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식
